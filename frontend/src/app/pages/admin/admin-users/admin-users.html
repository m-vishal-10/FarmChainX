<div class="bg-slate-900 min-h-screen p-8 sm:p-12">
  <div class="max-w-7xl mx-auto">
    <div class="backdrop-blur-3xl bg-slate-800/70 border border-slate-700/50 rounded-3xl shadow-2xl overflow-hidden">
      <div
        class="px-6 sm:px-10 py-6 sm:py-8 bg-gradient-to-r from-black-700 to-green-800 relative border-b border-slate-700/50">
        <h2 class="text-3xl sm:text-4xl font-extrabold text-white tracking-tight">
          User Management
        </h2>
        <p class="text-indigo-300 mt-1 text-base sm:text-lg">
          Manage platform roles and permissions for all active accounts.
        </p>

        <div class="mt-6 max-w-md">
          <div class="relative">
            <span class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd"
                  d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                  clip-rule="evenodd" />
              </svg>
            </span>
            <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="onSearch()"
              class="block w-full pl-10 pr-3 py-2 border border-slate-600 rounded-xl leading-5 bg-slate-700/50 text-gray-300 placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out"
              placeholder="Search users by name, email or role...">
          </div>
        </div>
      </div>

      <div *ngIf="isLoading" class="p-10 text-center text-indigo-400 text-lg">
        <p class="animate-pulse">Loading users...</p>
      </div>

      <div *ngIf="!isLoading" class="overflow-x-auto">
        <table class="w-full min-w-[700px] divide-y divide-slate-700/30">
          <thead class="bg-slate-800/50">
            <tr>
              <th class="px-6 sm:px-10 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-100">
                Name
              </th>
              <th class="px-6 sm:px-10 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-100">
                Email
              </th>
              <th class="px-6 sm:px-10 py-4 text-left text-xs font-semibold uppercase tracking-wider text-gray-100">
                Role
              </th>

            </tr>
          </thead>

          <tbody class="divide-y divide-slate-700/30">
            <tr *ngFor="let user of filteredUsers" class="hover:bg-slate-700/40 transition duration-150 ease-in-out">
              <td class="px-6 sm:px-10 py-4 font-medium text-white whitespace-nowrap">
                {{ user.name }}
              </td>

              <td class="px-6 sm:px-10 py-4 text-indigo-300 whitespace-nowrap text-sm">
                {{ user.email }}
              </td>

              <td class="px-6 sm:px-10 py-4 whitespace-nowrap">
                <span class="px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider"
                  [ngClass]="roleClass(user.primaryRole)">
                  {{ user.primaryRole }}
                </span>
              </td>


            </tr>

            <tr *ngIf="users.length === 0 && !isLoading">
              <td colspan="4" class="px-10 py-10 text-center text-gray-500 text-lg">
                No users found.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>